<div class="row justify-content-center" *ngIf="!isLoading && !unexpectedError">
    <div class="col-lg-8">
        <form class="auth_form active" [formGroup]="logInForm" (submit)="onLogInSubmit()">
            <button class="auth_changeForm_btn" type="button" (click)="changeForm()">Sign Up <i class="bi bi-caret-down"></i></button>
            <div class="auth_form_title">
                <h2>Log In</h2>
            </div>
            <div class="auth_form_content">
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-person"></i>
                    <input formControlName="userIdentifier" placeholder="Username, email or phone">
                    <div class="text-center mt-2">
                        <span *ngIf="logInForm.controls['userIdentifier'].dirty && logInForm.hasError('required','userIdentifier')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-pass"></i>
                    <input formControlName="password" placeholder="Password">
                    <div class="text-center mt-2">
                        <span *ngIf="logInForm.controls['password'].dirty && logInForm.hasError('required','password')" class="text-danger bold mt-2">Field is required</span>
                    </div>
                </div>
                <div class="auth_check_input">
                    <input class="form-check-input" type="checkbox" id="flexCheckDefault" formControlName="keepAuthorized">
                    <label class="form-check-label" for="flexCheckDefault">
                      Keep user authorized
                    </label>
                </div>
                <button *ngIf="logInForm?.valid" class="auth_form_btn" type="submit">Log In</button>
            </div>
        </form>
    </div>
    <div class="col-lg-8">
        <form class="auth_form" [formGroup]="signUpForm" (submit)="onSignUpSubmit()">
            <button class="auth_changeForm_btn" type="button" (click)="changeForm()">Log In <i class="bi bi-caret-up"></i></button>
            <div class="auth_form_title">
                <h2>Sign Up</h2>
            </div>
            <div class="auth_form_content">
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-person"></i>
                    <input formControlName="fullName" placeholder="Full name">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['fullName'].dirty && signUpForm.hasError('required','fullName')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-person"></i>
                    <input formControlName="username" placeholder="Username">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['username'].dirty && signUpForm.hasError('required','username')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-envelope"></i>
                    <input formControlName="email" placeholder="Email">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['email'].dirty && signUpForm.hasError('required','email')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-telephone"></i>
                    <input formControlName="mobilePhone" placeholder="Phone">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['mobilePhone'].dirty && signUpForm.hasError('required','mobilePhone')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-pass"></i>
                    <input formControlName="password" placeholder="Password">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['password'].dirty && signUpForm.hasError('required','password')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_input">
                    <i class="auth_input_icon bi bi-pass-fill"></i>
                    <input formControlName="passwordConfirm" placeholder="Confirm password">
                    <div class="text-center mt-2">
                        <span *ngIf="signUpForm.controls['passwordConfirm'].dirty && signUpForm.hasError('required','passwordConfirm')" class="text-danger bold">Field is required</span>
                    </div>
                </div>
                <div class="auth_check_input">
                    <input class="form-check-input" type="checkbox" id="flexCheckDefault" formControlName="keepAuthorized">
                    <label class="form-check-label" for="flexCheckDefault">
                      Keep user authorized
                    </label>
                </div>
                <button *ngIf="signUpForm?.valid" class="auth_form_btn" type="submit">Sign Up</button>
            </div>
        </form>
    </div>
</div>

<app-loading-state *ngIf="isLoading"></app-loading-state>
<app-error *ngIf="unexpectedError" [error]="unexpectedError"></app-error>
<app-error-modal *ngIf="errorModalContent" [content]="errorModalContent" (errorModalClosed)="closeErrorModal()"></app-error-modal>
